name: shell-test 

on: 
  repository_dispatch:
    types: [test]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1  

    - name: Sed Test
      run: |
        echo "$(man sed)"
    
    - name: ECS
      run: aws ecs help
    
    - name: Shell Test1
      run: |
        pwd
        echo '${{ github.workspace }}'

    - name: Shell Test2
      run: | 
        ls -al
        ls -al ../
      working-directory: ./config
  

    - name: Sed Test2
      run: |
        sed s$\{imageUrl\}$***.dkr.ecr.ap-northeast-1.amazonaws.com\/airflow_action:21ce0514e4435727bdc333afcf6d32077696fce0$g worker.json
        sed s$\{imageUrl\}$***.dkr.ecr.ap-northeast-1.amazonaws.com/airflow_action:21ce0514e4435727bdc333afcf6d32077696fce0$g server.json
      working-directory: ./config


    - name: Test array
      env: 
        FRUITS: apple mango melon
      run: |
        env
        echo $FRUITS
